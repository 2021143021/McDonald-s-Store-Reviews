# 🍔 MobileBERT와 함께한 맥도날드 리뷰 감정 분석 프로젝트

<p align="center">
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/McDonald%27s_Arch.svg/800px-McDonald%27s_Arch.svg.png" width="200"/>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/python-%233776AB.svg?&style=for-the-badge&logo=python&logoColor=white" />
  <img src="https://img.shields.io/badge/pytorch-%23EE4C2C.svg?&style=for-the-badge&logo=pytorch&logoColor=white" />
  <img src="https://img.shields.io/badge/MobileBERT-transformers-green?style=for-the-badge" />
</p>

---

## 1. 개요

햄버거를 좋아하는 나는, 특히 맥도날드를 가장 선호한다.  
피곤한 하루 끝에 먹는 맥도날드는 그야말로 해방감과 만족을 동시에 준다.  

하지만 이건 나만의 경험일까?  
세계적으로 가장 유명한 패스트푸드 체인인 **맥도날드에 대해 전 세계 사람들이 어떻게 느끼고 있는지** 궁금해졌다.

그래서 본 프로젝트에서는 **전 세계 맥도날드 리뷰 데이터를 수집하고**,  
MobileBERT 모델을 통해 **긍정/부정 감정 분류**를 수행하여,  
- 사람들의 실제 감정이 별점과 얼마나 일치하는지
- 부정적 리뷰가 많은 매장 또는 시점이 있는지  
등을 분석해보고자 한다.

---

## 2. 데이터 속성 명세

- **전체 리뷰 수**: 33,396건
- **전처리 후 사용 데이터**: 28,570건 (3점 중립 제거 + NaN 제거)
- **컬럼 정보**:
  - `review`: 리뷰 텍스트  
  - `rating`: 1~5점 별점
  - `store_name`, `store_address`, `latitude`, `longitude` 등 위치 정보

### 결측치 처리
- `latitude`, `longitude`: 660건 NaN 제거
- `review`: 12건 결측 제거

### 평점 분포 (전처리 후)

- 1점: 9,431건
- 2점: 3,086건
- 3점: 제거됨
- 4점: 5,787건
- 5점: 10,274건

![평점 분포 그래프](./images/mcd_rating_distribution.png)

### 라벨링 기준

- **1~2점**: 부정 (label = 0)
- **4~5점**: 긍정 (label = 1)
- **3점**: 중립 → 분석에서 제외

---

## 3. 프로젝트 목적

본 프로젝트의 궁극적인 목표는 다음과 같다:

- 감정 분류 모델(MobileBERT)을 통해 맥도날드 리뷰를 **긍정/부정으로 자동 분류**
- 텍스트 리뷰와 숫자 별점 사이의 **일관성**을 확인
- 부정적인 리뷰가 많은 시점/지역 또는 공통 키워드 발견

---

## 4. 학습 데이터 구성

### 샘플 데이터 기반 학습 (2,000건)

- 전체 리뷰 중 중립/결측 제거 후 **무작위로 2,000건 샘플링**
- 긍정/부정 라벨 비율 유지:
  - 긍정: 1,113건
  - 부정: 887건
- 학습/검증 분리 (8:2): 1,600건 / 400건

### 전체 데이터 기반 학습 (28,570건)

- 전처리된 전체 데이터 사용
- 학습/검증 분리 (8:2): 22,856건 / 5,714건

---

## 5. MobileBERT 학습 결과

### 2,000건 샘플 데이터 학습 결과

| Epoch | Train Loss | Train Acc | Val Acc |
|-------|------------|-----------|---------|
| 1     | 282444.82  | 91.81%    | 91.75%  |
| 2     | 0.3823     | 95.75%    | 93.25%  |
| 3     | 0.1786     | 97.06%    | 93.25%  |
| 4     | 1.0507     | 97.25%    | 93.50%  |

- 첫 Epoch는 이상치, 이후 정상 수렴
- 최종 검증 정확도: **93.5%**

### 전체 데이터 학습 결과

| Epoch | Train Loss | Train Acc | Val Acc |
|-------|------------|-----------|---------|
| 1     | 18483.27   | 95.38%    | 93.65%  |
| 2     | 0.4730     | 96.86%    | 94.33%  |
| 3     | 0.2624     | 97.67%    | 94.96%  |
| 4     | 0.1359     | 97.88%    | 95.03%  |

- 전반적으로 **고정확도 + 안정적인 수렴**
- 최종 검증 정확도: **95.03%**

### 전체 데이터 예측 정확도 (추론 전용)

- 학습된 모델로 전체 데이터(28,570건)를 예측한 결과:
  - **Test Accuracy: 92.36%**

---

## 6. 결론 및 느낀점

- **MobileBERT는 맥도날드 리뷰처럼 짧은 문장을 빠르고 정확히 분류하는 데 적합**
- 일부 리뷰는 **긍정 점수인데 부정적인 내용**, 또는 그 반대인 경우도 많음 → 별점만으론 한계
- **중립 리뷰 제외**는 단순화엔 도움이 되나, 감정 스펙트럼을 놓치는 단점 있음
- 향후에는:
  - 감정 다중 분류 (긍/부정/중립)
  - 키워드 기반 이슈 분류
  - 위치·시점·지점별 감정 편차 분석 등으로 확장 가능

---

## 🔗 참고 자료 및 도구

- 🤖 [MobileBERT](https://huggingface.co/google/mobilebert-uncased) by Google
- 🧠 [PyTorch](https://pytorch.org/)
- 📚 데이터 출처:
  - 자체 수집된 맥도날드 리뷰 데이터셋
  - CSV 형태로 사전 전처리 완료

---

